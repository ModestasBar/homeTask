!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.serialiseResponse=t():e.serialiseResponse=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function n(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),s=0;s<t.length;s++)o[s]=t.charCodeAt(s);var i=new DataView(n);return new Blob([i.buffer],{type:r})}function o(e){if(!(e instanceof Response))throw new Error("Expecting response to be instance of Response");for(var t=[],r=e.headers.keys(),n=0;n<r.length;n++){var o=r[n];t[o]=e.headers.get(o)}return new Promise(function(r,n){var o=new FileReader;e.blob().then(function(e){return o.readAsDataURL(e)}),o.onerror=n,o.onloadend=function(){r(JSON.stringify({type:e.type,url:e.url,useFinalURL:e.useFinalURL,status:e.status,ok:e.ok,statusText:e.statusText,headers:t,__body:o.result}))}})}function s(e){var t;if("string"==typeof e)t=JSON.parse(e);else{if("object"!=typeof e)throw new Error("Expecting serialised response to be a string or object");t=e}return new Response(n(t.__body))}var i,i;o.deserialise=s,o.deserialize=s,i=function(){return o}.call(t,r,t,e),!(void 0!==i&&(e.exports=i)),i=function(){return o}.call(t,r,t,e),!(void 0!==i&&(e.exports=i))}])});